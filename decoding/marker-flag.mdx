---
title: "Marker and Flag"
date: 2024-01-25T15:32:14Z
lastmod: "2024-07-26"
draft: false
category: Transactions
layout: TopicBanner
order: 3.2
icon: "FaClipboardList"
images: ["/bitcoin-topics/static/images/topics/thumbnails/musig-thumbnail.webp"]
parent: "transaction-structure"
---

<TransactionCreation enabledFields={["marker", "flag"]} />

The marker and flag are optional fields introduced with **SegWit**.

They indicate that a transaction uses the segregated witness structure defined in **BIP144**.  
Witness data is required for inputs locked by **P2WPKH**, **P2WSH**, or **P2TR**.

## Marker

Marker indicates that the transaction uses the extended format.

-   Marker is **1 byte**.
-   Must always be `0x00` to signal a SegWit transaction.

## Flag

-   The flag is **1 byte**.
-   It is currently set to `0x01` in all SegWit transactions.
-   Future upgrades may use different flags.

<ExpandableAlert
    title="Note: Legacy Compatibility"
    type="info"
    expandable={false}
>
    If a transaction doesnâ€™t include witness data, marker and flag are omitted.
</ExpandableAlert>

### Question

How do old nodes treat marker and flag for SegWit transactions?

<a
    href="https://chat.bitcoinsearch.xyz/?author=holocat&question=How%2520do%2520old%2520nodes%2520treat%2520marker%2520and%2520flag%2520for%2520SegWit%2520transactions%253F"
    target="_blank"
>
    Answer here
</a>
